import{D as We,a0 as Xe,H as Ze,K as P,d as e,N as o,O as je,Q as p,Z as _,c as s,J as l,I as a,M as r,X as xe,V as de,a1 as ke,a2 as Ne,T as G,a3 as J,_ as qe,W as R,a4 as Ge,a5 as Ae}from"./index-DGpm3imC.js";import{e as z,i as F,s as fe}from"./attributes-BBN0B9Iy.js";var Re=p('<div class="survey-item svelte-1pp8f0p"><span class="survey-name svelte-1pp8f0p"> </span> <div class="survey-actions svelte-1pp8f0p"><button class="svelte-1pp8f0p">Edit</button> <button class="delete svelte-1pp8f0p">Delete</button></div></div>'),Ue=p('<div class="existing-surveys svelte-1pp8f0p"><h3 class="svelte-1pp8f0p">Existing Surveys</h3> <!></div>'),et=p('<div class="survey-management svelte-1pp8f0p"><h2 class="svelte-1pp8f0p">Survey Management</h2> <button class="create-new svelte-1pp8f0p">Create New Survey</button> <!></div>'),tt=p('<input type="text" class="svelte-1pp8f0p">'),st=p('<div class="survey-name-form"><button class="back-button svelte-1pp8f0p">← Back to Survey List</button> <div class="survey-section"><h2 class="svelte-1pp8f0p">Enter Survey Name</h2> <input type="text" placeholder="Enter survey name" class="svelte-1pp8f0p"> <button class="svelte-1pp8f0p">Submit Survey Name</button></div> <div class="topics-section"><h2 class="svelte-1pp8f0p">How many topics would you like to add? (2-10)</h2> <input type="number" min="2" max="10" class="svelte-1pp8f0p"> <h3 class="svelte-1pp8f0p">Enter Your Topics</h3> <!></div></div>'),at=p('<input type="text" class="svelte-1pp8f0p">'),lt=p('<div class="topics-form"><button class="back-button svelte-1pp8f0p">← Back to Survey List</button> <h2 class="svelte-1pp8f0p">Confirm Your Topics</h2> <!> <button class="svelte-1pp8f0p">Submit Topics</button></div>'),ot=p('<div class="question-item svelte-1pp8f0p"><span class="question-text svelte-1pp8f0p"> </span> <div class="question-actions svelte-1pp8f0p"><button class="delete svelte-1pp8f0p">Delete</button></div></div>'),it=p('<h3 class="svelte-1pp8f0p">Questions</h3> <!>',1),pt=p('<p class="no-questions svelte-1pp8f0p">No questions added yet.</p>'),rt=p('<div class="existing-questions svelte-1pp8f0p"><button class="create-new svelte-1pp8f0p">Add New Question</button> <!></div>'),vt=p('<label class="svelte-1pp8f0p"><input type="checkbox" class="svelte-1pp8f0p"> </label>'),nt=p('<div class="button-options svelte-1pp8f0p"><h4 class="svelte-1pp8f0p"></h4> <input type="text" class="svelte-1pp8f0p"> <div class="topic-checkboxes svelte-1pp8f0p"><p class="svelte-1pp8f0p">Select associated topics:</p> <!></div></div>'),ct=p('<div class="add-question-container svelte-1pp8f0p"><button class="back-button svelte-1pp8f0p">← Back to Questions</button> <h2 class="svelte-1pp8f0p"> </h2> <input type="text" placeholder="Enter your question" class="svelte-1pp8f0p"> <div class="options-count svelte-1pp8f0p"><h3 class="svelte-1pp8f0p">Number of options for this question:</h3> <input type="number" min="2" max="10" class="svelte-1pp8f0p"></div> <div class="button-container svelte-1pp8f0p"></div> <button class="svelte-1pp8f0p">Add Question</button></div>'),ut=p('<div class="question-management svelte-1pp8f0p"><button class="back-button svelte-1pp8f0p">← Back to Survey List</button> <h2 class="svelte-1pp8f0p"> </h2> <!></div>'),dt=p('<main class="svelte-1pp8f0p"><!></main>');function mt(Te,we){We(we,!1);const _e=Xe(),Oe=()=>ke(K,"$isSurveyNameAdded",_e),Qe=()=>ke(Y,"$areTopicsAdded",_e);let u=_(""),x=_(2),i=_([]),$=_(""),A=_(2),E=_([]),H=_([]),U=null,ee=_(!1),k=_([]),T=_(!1),Y=Ne(!1),K=Ne(!1),te=_(!0);const me=()=>{s(H,JSON.parse(localStorage.getItem("surveys")||"[]"))};me();const Ie=()=>{s(te,!1),s(ee,!1),K.set(!1),Y.set(!1),s(u,""),U=null,s(x,2),ie()},Je=t=>{U=t,s(u,t),s(ee,!0),s(te,!1),K.set(!0),Y.set(!0),s(i,JSON.parse(localStorage.getItem(`topics_${t}`))||[]),s(k,JSON.parse(localStorage.getItem(`questions_${t}`))||[]),V(),s(T,!1)},be=()=>{s(T,!e(T)),e(T)&&(s($,""),V())},$e=t=>{if(confirm(`Are you sure you want to delete the survey "${t}"?`)){const m=JSON.parse(localStorage.getItem("surveys")||"[]").filter(w=>w!==t);localStorage.setItem("surveys",JSON.stringify(m)),localStorage.removeItem(`topics_${t}`),localStorage.removeItem(`questions_${t}`),s(H,m)}},Ee=t=>{confirm("Are you sure you want to delete this question?")&&(s(k,e(k).filter((v,m)=>m!==t)),localStorage.setItem(`questions_${U}`,JSON.stringify(e(k))))},ie=()=>{s(x,Math.max(2,Math.min(10,e(x)))),s(i,new Array(e(x)).fill(""))},V=()=>{s(E,Array(e(A)).fill().map(()=>({text:"",selectedTopics:new Array(e(i).length).fill(!1)})))},Me=()=>{if(!e(u).trim()){alert("Please enter a survey name");return}let t=JSON.parse(localStorage.getItem("surveys")||"[]");if(t.includes(e(u))){alert("A survey with this name already exists");return}t.push(e(u)),localStorage.setItem("surveys",JSON.stringify(t)),s(H,t),K.set(!0)},Be=()=>{if(e(i).length>10){alert("Maximum number of topics is 10"),ie();return}e(i).every(t=>t.trim()!=="")?(localStorage.setItem(`topics_${e(u)}`,JSON.stringify(e(i))),Y.set(!0),V()):alert("Please enter all topics")},Ce=()=>{if(e($)&&e(E).every(t=>t.text&&t.selectedTopics.some(v=>v))){let t=e(k);t.push({question:e($),buttons:e(E).map(v=>({text:v.text,selectedTopics:e(i).filter((m,w)=>v.selectedTopics[w])}))}),localStorage.setItem(`questions_${e(u)}`,JSON.stringify(t)),s(k,t),s($,""),V(),s(T,!1)}else alert("Please fill in all fields and select at least one topic per button")},Le=()=>{s(x,Math.max(2,Math.min(10,e(x)))),ie()},De=()=>{e(A)<2&&s(A,2),e(A)>10&&s(A,10),V()},pe=()=>{s(te,!0),s(ee,!1),K.set(!1),Y.set(!1),U=null,s(T,!1),me()};Ze();var ye=dt(),Pe=l(ye);{var ze=t=>{var v=et(),m=a(l(v),2),w=a(m,2);{var re=b=>{var N=Ue(),M=a(l(N),2);z(M,1,()=>e(H),F,(B,q)=>{var d=Re(),y=l(d),f=l(y),h=a(y,2),n=l(h),C=a(n,2);G(()=>R(f,e(q))),r("click",n,()=>Je(e(q))),r("click",C,()=>$e(e(q))),o(B,d)}),o(b,N)};P(w,b=>{e(H).length>0&&b(re)})}r("click",m,Ie),o(t,v)},Fe=t=>{var v=xe(),m=de(v);{var w=b=>{var N=st(),M=l(N),B=a(M,2),q=a(l(B),2),d=a(q,2),y=a(B,2),f=a(l(y),2),h=a(f,4);z(h,1,()=>e(i),F,(n,C,L)=>{var S=tt();fe(S,"placeholder",`Enter topic ${L+1}`),J(S,()=>e(i)[L],c=>qe(i,e(i)[L]=c)),o(n,S)}),r("click",M,pe),J(q,()=>e(u),n=>s(u,n)),r("click",d,Me),J(f,()=>e(x),n=>s(x,n)),r("input",f,Le),o(b,N)},re=b=>{var N=xe(),M=de(N);{var B=d=>{var y=lt(),f=l(y),h=a(f,4);z(h,1,()=>e(i),F,(C,L,S)=>{var c=at();fe(c,"placeholder",`Enter topic ${S+1}`),J(c,()=>e(i)[S],O=>qe(i,e(i)[S]=O)),o(C,c)});var n=a(h,2);r("click",f,pe),r("click",n,Be),o(d,y)},q=d=>{var y=ut(),f=l(y),h=a(f,2),n=l(h),C=a(h,2);{var L=c=>{var O=rt(),W=l(O),se=a(W,2);{var ve=g=>{var Q=it(),le=a(de(Q),2);z(le,1,()=>e(k),F,(ne,I,D)=>{var X=ot(),Z=l(X),oe=l(Z),j=a(Z,2),ce=l(j);G(()=>R(oe,e(I).question)),r("click",ce,()=>Ee(D)),o(ne,X)}),o(g,Q)},ae=g=>{var Q=pt();o(g,Q)};P(se,g=>{e(k).length>0?g(ve):g(ae,!1)})}r("click",W,be),o(c,O)},S=c=>{var O=ct(),W=l(O),se=a(W,2),ve=l(se),ae=a(se,2),g=a(ae,2),Q=a(l(g),2),le=a(g,2);z(le,5,()=>e(E),F,(I,D,X)=>{var Z=nt(),oe=l(Z);oe.textContent=`Option ${X+1}`;var j=a(oe,2);fe(j,"placeholder",`Option ${X+1} text`);var ce=a(j,2),He=a(l(ce),2);z(He,1,()=>e(i),F,(ue,Ye,he)=>{var Se=vt(),ge=l(Se),Ke=a(ge);G(()=>R(Ke,` ${e(Ye)??""}`)),Ge(ge,()=>e(D).selectedTopics[he],Ve=>(e(D).selectedTopics[he]=Ve,Ae(()=>e(E)))),o(ue,Se)}),J(j,()=>e(D).text,ue=>(e(D).text=ue,Ae(()=>e(E)))),o(I,Z)});var ne=a(le,2);G(()=>R(ve,`Add a New Question to "${e(u)??""}"`)),r("click",W,be),J(ae,()=>e($),I=>s($,I)),J(Q,()=>e(A),I=>s(A,I)),r("input",Q,De),r("click",ne,Ce),o(c,O)};P(C,c=>{e(T)?c(S,!1):c(L)})}G(()=>R(n,`Survey: ${e(u)??""}`)),r("click",f,pe),o(d,y)};P(M,d=>{!Qe()&&!e(ee)?d(B):d(q,!1)},!0)}o(b,N)};P(m,b=>{Oe()?b(re,!1):b(w)},!0)}o(t,v)};P(Pe,t=>{e(te)?t(ze):t(Fe,!1)})}o(Te,ye),je()}export{mt as default};
